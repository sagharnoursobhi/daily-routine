<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Routines</title>
    <link rel="stylesheet" href="style.css?v=1.07">
</head>
<body>
    <div class="container">
        <header class="header">My Daily Routines</header>
        <div id="dailySchedule" class="main">
            <div id="morning" class="div1">
                <div class="div2"><p>Morning</p></div>
                <div id="tableMor">
                    <table class="table">
                        <thead>
                            <tr>
                                <td>Done</td>
                                <td>Routine name</td>
                                <td>Action</td>
                            </tr>
                        </thead>
                        <tbody id="list1"></tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2">
                                    <input id="input1" class="routine" type="text" placeholder="enter routine">
                                </td>
                                <td>
                                    <button class="enter" type="button" id="add-morning">Add</button>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div id="night" class="div1">
                <div class="div2"><p>Night</p></div>
                <div id="tableNigh">
                    <table class="table">
                        <thead>
                            <tr>
                                <td>Done</td>
                                <td>Routine name</td>
                                <td>Action</td>
                            </tr>
                        </thead>
                        <tbody id="list2"></tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2">
                                    <input type="text" id="input2" class="routine" placeholder="Enter Routine">
                                </td>
                                <td>
                                    <button class="enter" type="button" id="add-night">Add</button>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <!--<div>
                    <form id="nightPart" action="">
                        <span><input id="input2" class="routine" type="text" placeholder="enter routine"></span>
                        <span><button class="enter" type="button" id="add-night">enter</button></span>
                        <span><button class="enter" id="del-night" type="button">delete</button></span>
                    </form>
                    <form action="" method="get">
                        <button class="send" type="submit">submit</button>
                    </form>
                </div>-->
            </div>
        </div>
        <footer></footer>
    </div>
    <script src="./assets/plugins/jquery/jquery-3.5.1.min.js"></script>
    <script src="./assets/js/app.js?v=1.01"></script>

    <script>
        // let routines = [];
        // document.getElementById('entMor').addEventListener('click' , () => {
        //     let routine = document.getElementById('input1').value;
        //     routines=push(routine);
        //     document.querySelector('#input1').value = '';
        //     const tr = 
        // `<tr>
        //     <input name="index" type="hidden" value ="${routins.length}">
        //     <td>${routins.length}</td>
        //     <td>${routins.value}</td>
        //     <td><button class="deleter">X</button></td>
        // </tr>` 
        // document.getElementById('tbody1').value += tr;
        // })



        // document.addEventListener('click' , (event)=>{
        //     const element = event.target;
        //     if (element.classlist.contains("deleter")){
        //         const index = document.parentElement.parentElement.querySelector('#input1').value;
        //         routines.splice(index , 1);
        //     }
        // })


            //add morning routines

        document.getElementById('add-morning').addEventListener('click' , ()=>{
            //let enter = document.getElementById('input1').Value;
            if (document.getElementById('input1').value.length < 1) {
                return;
            } else {
                let x = document.getElementById('input1').value;
                document.getElementById('list1').innerHTML +=  `
                <tr>
                    <td><input type="checkbox"></td>
                    <td>${x}</td>
                    <td><button type="button">Delete</button></td>
                </tr>
                `;
            } 
            document.getElementById('input1').value = '';
            let y = document.getElementById('list1').innerHTML;
            localStorage.setItem('morningInputs' , y);
        })

        let saved = localStorage.getItem('morningInputs');
        if(saved){
           y = saved; 
        }

            document.addEventListener('click' , function(event){
                if(event.target.id==='del-morning'){
                    document.getElementById('list1').innerHTML = ' ';
                    localStorage.removeItem('morningInputs');
                }
                // If the clicked event is a list item
                var item = event.target.closest('#list1 input');
                if (item) {
                    if (item.checked) {
                        item.parentNode.className = 'completed';
                        item.setAttribute('checked', 'checked');
                    } else {
                        item.parentNode.className = ' ';
                        item.removeAttribute('checked');
                    }
                    localStorage.setItem('morningInputs', document.getElementById('list1').innerHTML);
                }

            } , false);

        //add night routines
        
            document.getElementById('add-night').addEventListener('click' , ()=>{
            //let enter = document.getElementById('input2').Value;
            if (document.getElementById('input2').value.length < 1)
            return
            else{
                let x = document.getElementById('input2').value;
                //document.getElementById('list2').innerHTML +=  '<tr><input type="checkbox"> ' + x + '</tr>' + '<br>';//filling orderd list of items
                document.getElementById('list2').innerHTML += `
                <tr>
                    <td><input type="checkbox"></td>
                    <td>${x}</td>
                    <td><button type="button">Delete</button></td>
                </tr>
                `;

            };
            document.getElementById('input2').value = '';
            let y = document.getElementById('list2').innerHTML;
            localStorage.setItem('nightInputs' , y);
        })

        saved = localStorage.getItem('nightInputs');
        if(saved){
           y = saved; 
        }
    </script>
</body>
</html>